[
    {
        "bookSourceComment": "å»ºè®®ç™»å½•\næ•´ç†ä¿®æ”¹ç¼åˆï¼šé…·å®‰ Wolken\nç°è‰²ç« èŠ‚ä¿®å¤ç›®å½•éƒ¨åˆ†Byå¶è½å²šèµ·+å…³è€³/ä¹ƒæ˜Ÿæ”¹2021.8.3\nè¡¥ä¸ : ç¥ç§˜äºº\nä¿®å¤æœç´¢é—®é¢˜\nä¿®å¤å‘ç°æ¦œå•æ²¡å›¾çš„é—®é¢˜\nä¿®å¤ç« èŠ‚å†…å›¾ç‰‡é—®é¢˜\næ–°è£œä¸: ç¥ç§˜äºº\næŠ“å–æºç ä¸­çš„å…³é”®å­—æ›¿æ¢\næ›´æ–°è¡¥ä¸\næ›´æ–°è¡¥ä¸17/9\n2023.9.27\næ–°è¡¥ä¸ï¼šé…·å®‰ @å‰ç‹ä¹‰æ˜Š\né‡æ–°æŠ“å–æºç ä¸­çš„å…³é”®å­—æ›¿æ¢\n2023.9.27\næ–°è¡¥ä¸2ndï¼šé…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¿®å¤æ’å›¾ä¸èƒ½æ­£å¸¸åŠ è½½çš„é—®é¢˜\n2023.9.30\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\næ·»åŠ ç™»å½•URL\næ¸…ç†äº†æ— ç”¨ä»£ç \nä½¿ç”¨æ›´æ˜“è¯»çš„å˜é‡å\n2023.10.1\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\né‡æ–°æŠ“å–æºç ä¸­çš„å…³é”®å­—æ›¿æ¢\n2023.10.1\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nåœ¨è·å–æ­£æ–‡æ—¶è‡ªåŠ¨æ‹‰å–æºç å¹¶è§£å¯†è¿›è¡Œå…³é”®å­—æ›¿æ¢ï¼Œä¸€åŠ³æ°¸é€¸ï¼ˆå¤§æ¦‚ï¼‰è§£å†³é—®é¢˜\næ³¨æ„ï¼šæ­¤ç‰ˆæœ¬ä¼šä½¿ç½‘ç»œè¯·æ±‚æ¬¡æ•°å¢åŠ ä¸€å€ï¼Œå¹¶ä¸€å®šç¨‹åº¦ä¸Šå‡æ…¢åŠ è½½é€Ÿåº¦\n2023.10.1\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nå¢åŠ ç™»å½•URLå’Œç™»å½•UI\nå¯ç”¨CookieJar\nå»é™¤ç« èŠ‚åä¸‹æ–¹çš„URL\nä¿®æ­£äº†ä¸‹ä¸€é¡µè·å–å¯¼è‡´çš„æ­£æ–‡åŠ è½½é”™è¯¯\nè¡¥å…¨å‘ç°ä¸­çš„æ–‡åº“\nä¿®æ­£éƒ¨åˆ†å°è¯´ç›®å½•è·å–é”™è¯¯çš„é—®é¢˜\n2023.10.4\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç æ–°çš„åŠ å¯†æ–¹å¼\n2023.10.5\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç æ–°çš„åŠ å¯†æ–¹å¼\n2023.10.6\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç«™ç½‘ç«™ç»“æ„æ”¹åŠ¨\n2023.10.7\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\næ”¹è¿›äº†ç›®å½•è·å–æ–¹å¼ï¼Œç°åœ¨èƒ½å¤Ÿå¤„ç†æ›´å¤šæ„å¤–æƒ…å†µ\n2023.10.7\né…·å®‰ @å‰ç‹ä¹‰æ˜Š @æ˜¯æ¨±æ¤›ä¸æ˜¯æ¨±èŠ±\nå‘ç°æ–°å¢æ ‡ç­¾\n2023.10.9\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\næ”¹è¿›äº†å‘ç°\n2023.10.13\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç«™ç»“æ„æ”¹åŠ¨\n2023.10.15\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¿®æ­£éƒ¨åˆ†å°è¯´ç›®å½•è·å–é”™è¯¯çš„é—®é¢˜\n2023.10.22\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nå‘ç°é¡µæ›´æ”¹ä¸ºåŠ¨æ€è·å–ï¼Œä¸ºå¤§å®¶å¸¦æ¥æ›´å¤šæ’åˆ—ç»„åˆï¼ˆä¹\nåŒæ ·ç”±äºåŠ¨æ€è·å–ï¼Œç°åœ¨å¯ä»¥æŸ¥çœ‹æ ‡ç­¾å¯¹åº”çš„ä¹¦ç±æ•°é‡äº†\nå°å¹…ä¼˜åŒ–æ­£æ–‡çš„è·å–é€Ÿåº¦\næ­£æ–‡é¡µå¯æ˜¾ç¤ºæ­£ç¡®çš„ç« èŠ‚åç§°ï¼ˆåœ¨åŠ è½½å¯¹åº”æ­£æ–‡é¡µåç›®å½•é‡Œçš„é”™è¯¯åç§°ä¼šè‡ªåŠ¨æ›´æ­£ï¼‰\n2023.10.23\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nåŠ è½½è¯¦æƒ…é¡µåä¼šè‡ªåŠ¨æ›´æ”¹é”™è¯¯çš„ä¹¦å\n2023.10.25\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nå‘ç°é¡µæ–°å¢ä¹¦æ¶\n2023.11.7\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä½¿ç”¨Cacheå°å¹…åº¦åŠ å¿«è¿ç»­åŠ è½½æ—¶æ­£æ–‡çš„åŠ è½½é€Ÿåº¦\n2023.11.11\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè§£å†³äº†éƒ¨åˆ†ä¹¦ç±ç›®å½•æœ€åä¸€ç« è·å–é“¾æ¥é”™è¯¯çš„é—®é¢˜\n2023.11.12\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nç§»é™¤äº†ç«™é•¿çš„å–Šè¯\n2023.11.14\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¿®å¤äº†å›¾ç‰‡åŠ è½½é”™è¯¯çš„é—®é¢˜\n2023.11.16\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè§£å†³äº†éƒ¨åˆ†ä¹¦ç±è·å–ç›®å½•å¤±è´¥çš„é—®é¢˜",
        "bookSourceGroup": "è½»å°è¯´",
        "bookSourceName": "å“”å“©è½»å°è¯´ğŸ·",
        "bookSourceType": 0,
        "bookSourceUrl": "https://w.linovelib.com",
        "bookUrlPattern": "",
        "concurrentRate": "",
        "coverDecodeJs": "",
        "customOrder": 0,
        "enabled": true,
        "enabledCookieJar": true,
        "enabledExplore": true,
        "exploreUrl": "@js:\nres = []\n\n//ä¹¦æ¶\nuser = java.ajax(\"https://w.linovelib.com/user.php\")\n//java.toast(user)\nif (user.match(/<title>ç™»é™† - å“”å“©è½»å°è¯´<\\/title>/gi)) {\n  //æœªç™»å½•\n  res.push(\n    {\n      title: `>> æˆ‘çš„ä¹¦æ¶ | æœªç™»å½• <<`,\n      url: '',\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    })\n} else {\n  //å·²ç™»å½•\n  res.push(\n    {\n      title: `>> æˆ‘çš„ä¹¦æ¶ | ${user.match(/<span class=\"user-name\">.+<\\/span>/gi)[0].replace(/<\\/?span.*?>/gi,'')} <<`,\n      url: '',\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    })\n  bookcase = java.ajax(\"https://w.linovelib.com/bookcase.php\")\n  bookcase.match(/<select[\\s\\S]+?<\\/select>/gi)[0].match(/<option.+<\\/option>/gi).forEach(option => {\n    res.push(\n      {\n        title: option.match(/>.+(?=<)/gi)[0].replace('>', ''),\n        url: \"https://w.linovelib.com/bookcase.php?classid=\" + option.match(/value=\\\".+?(?=\\\")/gi)[0].replace(/(value=\\\")/gi, ''),\n        style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n      })\n  })\n}\n\ncontent = java.ajax(\"https://w.linovelib.com/wenku/\")\ncontent.match(/æ’åºæ–¹å¼[\\s\\S]+?<\\/div>/gi)[0].match(/<a.+<\\/a>/gi).forEach(a => {\n  let sortTitle = a.match(/>.+(?=<)/gi)[0].replace('>', '')\n  let sortAddress = a.match(/\\/.+?(?=_)/gi)[0].replace('/', '')\n  content.match(/ä½œå“åˆ†ç±»[\\s\\S]+?<\\/div>/gi)[0].match(/<a.+<\\/a>/gi).forEach((v, i) => {\n    if (i == 0) {\n      res.push(\n        {\n          title: `>> å…¨éƒ¨æ–‡åº“ | ${sortTitle} <<`,\n          url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '')\n            .replace(/\\/.+?(?=_)/gi, '/' + sortAddress).replace('1_0.html', '{{page}}_0.html'),\n          style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n        })\n    } else {\n      res.push(\n        {\n          title: v.match(/>.+(?=<)/gi)[0].replace('>', ''),\n          url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '')\n            .replace(/\\/.+?(?=_)/gi, '/' + sortAddress).replace('1_0.html', '{{page}}_0.html'),\n          style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n        })\n    }\n  })\n})\ncontent.match(/æ’åºæ–¹å¼[\\s\\S]+?é‡ç½®/gi)[0].match(/<li[\\s\\S]+?<\\/li>/gi).forEach(li => {\n  let sortTitle = li.match(/>.+(?=<\\/h3>)/gi)[0].replace('>', '')\n  res.push(\n    {\n      title: `>> ${sortTitle} <<`,\n      url: '',\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    })\n  li.match(/<a.+<\\/a>/gi).forEach((v, i) => {\n    if (i != 0) {\n      res.push(\n        {\n          title: v.match(/>.+(?=<)/gi)[0].replace('>', ''),\n          url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '').replace('1_0.html', '{{page}}_0.html'),\n          style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n        })\n    }\n  })\n})\ntagContent = java.ajax(\"https://w.linovelib.com/taglist/1.html\")\nres.push(\n  {\n    title: '>> æ ‡ç­¾åˆ†ç±» <<',\n    url: '',\n    style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n  })\ntagContent.match(/æ ‡ç­¾åˆ†ç±»<\\/h3>[\\s\\S]+?é‡ç½®/gi)[0].match(/<a.+<\\/a>/gi).forEach((v, i) => {\n  res.push(\n    {\n      title: v.match(/>.+(?=<)/gi)[0].replace('>', ''),\n      url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '').replace('1.html', '{{page}}.html'),\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n    })\n})\nJSON.stringify(res)",
        "header": "{\n\"Referer\":\"https://w.linovelib.com/\"\n}",
        "lastUpdateTime": 1700116165924,
        "loginUi": "[\n  {\n    \"name\": \"è´¦å·\",\n    \"type\": \"text\"\n  },\n  {\n    \"name\": \"å¯†ç \",\n    \"type\": \"password\"\n  }\n]",
        "loginUrl": "@js:\nfunction login() {\n  let une = source.getLoginInfoMap().get(\"è´¦å·\")\n  let pwd = source.getLoginInfoMap().get(\"å¯†ç \")\n  if (une && pwd) {\n    let body = String('username=' + une + '&password=' + pwd + '&usecookie=315360000&action=login')\n    let url = source.bookSourceUrl + '/login.php'\n    let ck = java.post(url, body, { \"Content-Type\": \"application/x-www-form-urlencoded\" }).cookies()\n    let header = JSON.stringify({\n      \"Cookie\": String(ck).match(/\\{(.*?)\\}/)[1].replace(/,/g, ';')\n    })\n    source.putLoginHeader(header)\n  }\n}",
        "respondTime": 180000,
        "ruleBookInfo": {
            "author": "[property=\"og:novel:author\"]@content",
            "canReName": "1",
            "coverUrl": "[property=\"og:image\"]@content",
            "intro": "id.bookSummary@tag.content@textNodes\n@js:\nresult=\"  \"+result;",
            "kind": "class.book-cell@tag.p.1@ownText&&class.tag-small red@text\n##.*ä¸‡å­—|Â·.*",
            "lastChapter": "class.gray ell@text##(\\d+-\\d+-\\d+\\s\\d+:\\d+)Â·(.*)##$2 â€¢ $1",
            "name": "[property=\"og:novel:book_name\"]@content",
            "tocUrl": "class.btn-normal red@href",
            "wordCount": "class.book-cell@tag.p.1@ownText##è¿è½½|å®Œç»“"
        },
        "ruleContent": {
            "content": "@js:\njava.setContent(src)\nif (java.get('jsContent') == '' || java.get('id') == '') {\n  jsLink = java.getString(\"tag.script@src\").match(/http.+zhmb.+\\?v.+/gi)\n  jsLink.forEach(link => {\n  \t  jsRaw = java.cacheFile(link)\n    jsContent = jsRaw.match(/.+\\\\x.+/gi)\n    if (jsContent) {\n      java.put('id', jsRaw.match(/contentid: '.+(?=',)/gi)[0].replace(\"contentid: '\", ''))\n      java.put('jsContent', jsContent[0])\n    }\n  \t})\n  //java.ajaxAll(jsLink).forEach(res => {\n  //  jsRaw = res.body()\n  //})\n}\nh = ''\nh = java.getString(\"id.\" + java.get('id') + \"@html\")\nh = h.replace(\"&nbsp;&nbsp;\", \"&emsp;\")\nel = { innerHTML: String(h) }\ndocument = { getElementById: () => { return el } }\nwindow = { document: document, RegExp: RegExp }\neval(String(java.get('jsContent')))\nh = el.innerHTML\nh",
            "imageDecode": "",
            "imageStyle": "FULL",
            "nextContentUrl": "##url_next:'([^']*)'##$1###\n@js:\n//121_2.htmlè¿™æ ·çš„æ˜¯ä¸‹ä¸€é¡µï¼Œçº¯æ•°å­—åˆ™æ˜¯ä¸‹ä¸€ç« \n//å¸¦æœ‰catalogæ˜¯è¯¦æƒ…é¡µ\nvar isNew=/(\\/(\\d+).html)|catalog/.test(result);\nvar out=isNew?'':result;\nout",
            "replaceRegex": "##((?<=[\\u4e00-\\u9fa5â€œâ€˜ã€Œï¼ˆï¼Œ])\\s+)?<!--\\s*\\ï¼ˆç»§ç»­ä¸‹ä¸€é¡µ\\ï¼‰\\s*-->\\s*|((?<=[\\u4e00-\\u9fa5â€œâ€˜ã€Œï¼ˆï¼Œ])\\s+)?\\ï¼ˆæœ¬ç« æœªå®Œ\\ï¼‰\\s*|.+tmygod.+\\n",
            "title": "id.atitle@text"
        },
        "ruleExplore": {
            "author": "class.book-author@ownText",
            "bookList": "class.book-ol@tag.li",
            "bookUrl": "a@href",
            "coverUrl": "img@data-src",
            "intro": "class.book-desc@text&&class.ell@text",
            "kind": "class.tag-small-group origin-right@tag.em.0@text&&\nclass.tag-small-group origin-right@tag.em.1@text&&\ntag.time@text\n@js:\nres=[]\nresult.forEach(item=>{\n    item.split(new RegExp(\"[ \\/]\",\"gi\")).forEach(i=>res.push(i))\n})\nres",
            "name": "class.book-li@tag.img@alt",
            "wordCount": "class.tag-small blue@text"
        },
        "ruleReview": {},
        "ruleSearch": {
            "author": "class.book-author@textNodes",
            "bookList": "@js:\npath = 'class.book-ol book-ol-normal@tag.li';\nc=java.getElement(path);\nif( !c.length && result.includes('no-js')){\n  res = java.startBrowserAwait(baseUrl,'ç­‰å¾…è‡³è·³è½¬åŠ è½½å®Œæˆåé‡æœ');\n  java.setContent(res.body());\n  c=java.getElement(path);\n}\nc",
            "bookUrl": "tag.a.0@href",
            "checkKeyWord": "æˆ‘çš„é’æ˜¥æ‹çˆ±å–œå‰§",
            "coverUrl": "a@href@js:\nvar id = result.match(/\\/(\\d+)\\.html/)[1];\n'https://www.linovelib.com/files/article/image/'+parseInt(id/1000)+'/'+id+'/'+id+'s.jpg';",
            "intro": "class.book-desc@text",
            "kind": "class.tag-small-group origin-right@tag.em@text\n@js:\nres=[]\nresult.forEach(item=>{\n    item.split(new RegExp(\"[ \\/]\",\"gi\")).forEach(i=>res.push(i))\n})\nres",
            "name": "class.book-title-x@class.book-title@text"
        },
        "ruleToc": {
            "chapterList": "id.volumes @tag.li\n@js:\n    //ç°å®debug(å°è¯•ä¿®å¤æ­£æ–‡é“¾æ¥é—®é¢˜ï¼Œå’Œç›®å½•ä¸å…¨)\n    //ã€Šå¥½å‹è§’è‰²çš„æˆ‘æ€ä¹ˆå¯èƒ½å¤§å—æ¬¢è¿ã€‹ç¬¬ä¸‰å·12\n    //ã€Šæˆ‘çš„é’æ˜¥æ‹çˆ±å–œå‰§ã€‹\n    //2022-8-19\n    //åŸæ¥çš„ä»£ç åœ¨æºæ³¨é‡Šï¼ˆå·²ç§»é™¤ï¼‰\n    //2022-8-20ä¿®å¤https://w.linovelib.com/novel/2765.htmlç›®å½•åŠ è½½å¤±è´¥\n    //2023-9-30ä½¿ç”¨æ˜“äºç†è§£çš„å˜é‡å‘½å\n    //2023-10-7å¤„ç†cid(1)ä»¥åŠè¿ç»­å¤šä¸ªcid(0)\n    //2023-11-11è§£å†³äº†ä¸€ä¸ªåŸæ¥æ‰‹æ»‘å†™å‡ºçš„bug\n    //2023-11-16å¤„ç†è¿ç»­å¤šä¸ªå·å\n\nres = result\n\nfor (i = 0; i < res.length; i++) {\n    java.setContent(res[i])\n    if (java.getString(\"tag.a@href\").match(/javascript:cid\\(.+\\)/gi)) {\n        //java.log(java.getString(\"tag.a@href\"))\n        if (String(res[(i == res.length - 1?i:i+1)]).match(/javascript:cid\\(.+\\)/gi)) {\n            java.setContent(res[i - 1])\n            prevLink = java.getString(\"tag.a@href\")\n            if (prevLink == \"\") {\n                java.setContent(res[i - 2])\n                prevLink = java.getString(\"tag.a@href\")\n            }\n            content = java.ajax(\"https://w.linovelib.com\" + prevLink)\n            java.setContent(content)\n            foot = java.getElements(\"id.footlink\")\n            path = prevLink\n\n            //java.log(foot)\n            while (String(foot).match(\"ä¸‹ä¸€é¡µ\")) {\n            \t    //java.log(foot)\n                str = content.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n                path = String(str).match(/url_next\\:'.*?html/)[0].replace(\"url_next:'\", \"\")\n                content = java.ajax(\"https://w.linovelib.com\" + path)\n                java.setContent(content)\n                foot = java.getElements(\"id.footlink\")\n            }\n\n            next = java.ajax(\"https://w.linovelib.com\" + path)\n            str = next.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n            path = String(str).match(/url_next\\:'.*?html/)[0].replace(\"url_next:'\", \"\")\n            java.log('l:'+path)\n            res[i] = String(res[i]).replace(/javascript:cid\\(.+\\)/gi, path)\n        } else {\n            nextLink = \"\"\n            for (var j=1;nextLink==\"\";j++) {\n                java.setContent(res[i + j])\n                nextLink = java.getString(\"tag.a@href\")\n            }\n            next = java.ajax(\"https://w.linovelib.com\" + nextLink)\n            str = next.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n            path = String(str).match(/url_previous\\:'.*?html/)[0].replace(\"url_previous:'\", \"\")\n            java.log(path)\n\n            res[i] = String(res[i]).replace(/javascript:cid\\(.+\\)/gi, path)\n        }\n    }\n\n    //java.log(res[i])\n}\nres",
            "chapterName": "text",
            "chapterUrl": "tag.a@href",
            "isVolume": "@js:\njava.getString(\"tag.a@href\")==\"\"",
            "updateTime": ""
        },
        "searchUrl": "<js>\npage==1?\n'/search.html?searchkey={{key}}&searchtype=all'\n:\n'/search/{{key}}_{{page}}.html'\n</js>",
        "weight": 0
    },
    {
        "bookSourceComment": "å»ºè®®ç™»å½•\næ•´ç†ä¿®æ”¹ç¼åˆï¼šé…·å®‰ Wolken\nç°è‰²ç« èŠ‚ä¿®å¤ç›®å½•éƒ¨åˆ†Byå¶è½å²šèµ·+å…³è€³/ä¹ƒæ˜Ÿæ”¹2021.8.3\nè¡¥ä¸ : ç¥ç§˜äºº\nä¿®å¤æœç´¢é—®é¢˜\nä¿®å¤å‘ç°æ¦œå•æ²¡å›¾çš„é—®é¢˜\nä¿®å¤ç« èŠ‚å†…å›¾ç‰‡é—®é¢˜\næ–°è£œä¸: ç¥ç§˜äºº\næŠ“å–æºç ä¸­çš„å…³é”®å­—æ›¿æ¢\næ›´æ–°è¡¥ä¸\næ›´æ–°è¡¥ä¸17/9\n2023.9.27\næ–°è¡¥ä¸ï¼šé…·å®‰ @å‰ç‹ä¹‰æ˜Š\né‡æ–°æŠ“å–æºç ä¸­çš„å…³é”®å­—æ›¿æ¢\n2023.9.27\næ–°è¡¥ä¸2ndï¼šé…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¿®å¤æ’å›¾ä¸èƒ½æ­£å¸¸åŠ è½½çš„é—®é¢˜\n2023.9.30\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\næ·»åŠ ç™»å½•URL\næ¸…ç†äº†æ— ç”¨ä»£ç \nä½¿ç”¨æ›´æ˜“è¯»çš„å˜é‡å\n2023.10.1\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\né‡æ–°æŠ“å–æºç ä¸­çš„å…³é”®å­—æ›¿æ¢\n2023.10.1\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nåœ¨è·å–æ­£æ–‡æ—¶è‡ªåŠ¨æ‹‰å–æºç å¹¶è§£å¯†è¿›è¡Œå…³é”®å­—æ›¿æ¢ï¼Œä¸€åŠ³æ°¸é€¸ï¼ˆå¤§æ¦‚ï¼‰è§£å†³é—®é¢˜\næ³¨æ„ï¼šæ­¤ç‰ˆæœ¬ä¼šä½¿ç½‘ç»œè¯·æ±‚æ¬¡æ•°å¢åŠ ä¸€å€ï¼Œå¹¶ä¸€å®šç¨‹åº¦ä¸Šå‡æ…¢åŠ è½½é€Ÿåº¦\n2023.10.1\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nå¢åŠ ç™»å½•URLå’Œç™»å½•UI\nå¯ç”¨CookieJar\nå»é™¤ç« èŠ‚åä¸‹æ–¹çš„URL\nä¿®æ­£äº†ä¸‹ä¸€é¡µè·å–å¯¼è‡´çš„æ­£æ–‡åŠ è½½é”™è¯¯\nè¡¥å…¨å‘ç°ä¸­çš„æ–‡åº“\nä¿®æ­£éƒ¨åˆ†å°è¯´ç›®å½•è·å–é”™è¯¯çš„é—®é¢˜\n2023.10.4\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç æ–°çš„åŠ å¯†æ–¹å¼\n2023.10.5\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç æ–°çš„åŠ å¯†æ–¹å¼\n2023.10.6\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç«™ç½‘ç«™ç»“æ„æ”¹åŠ¨\n2023.10.7\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\næ”¹è¿›äº†ç›®å½•è·å–æ–¹å¼ï¼Œç°åœ¨èƒ½å¤Ÿå¤„ç†æ›´å¤šæ„å¤–æƒ…å†µ\n2023.10.7\né…·å®‰ @å‰ç‹ä¹‰æ˜Š @æ˜¯æ¨±æ¤›ä¸æ˜¯æ¨±èŠ±\nå‘ç°æ–°å¢æ ‡ç­¾\n2023.10.9\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\næ”¹è¿›äº†å‘ç°\n2023.10.13\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè·Ÿè¿›æºç«™ç»“æ„æ”¹åŠ¨\n2023.10.15\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¿®æ­£éƒ¨åˆ†å°è¯´ç›®å½•è·å–é”™è¯¯çš„é—®é¢˜\n2023.10.22\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nå‘ç°é¡µæ›´æ”¹ä¸ºåŠ¨æ€è·å–ï¼Œä¸ºå¤§å®¶å¸¦æ¥æ›´å¤šæ’åˆ—ç»„åˆï¼ˆä¹\nåŒæ ·ç”±äºåŠ¨æ€è·å–ï¼Œç°åœ¨å¯ä»¥æŸ¥çœ‹æ ‡ç­¾å¯¹åº”çš„ä¹¦ç±æ•°é‡äº†\nå°å¹…ä¼˜åŒ–æ­£æ–‡çš„è·å–é€Ÿåº¦\n2023.10.22\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¸ºå¤§å®¶å¸¦æ¥â€”â€”å°ç‰ˆå“”å“©è½»å°è¯´ï¼\næ­£æ–‡é¡µå¯æ˜¾ç¤ºæ­£ç¡®çš„ç« èŠ‚åç§°ï¼ˆåœ¨åŠ è½½å¯¹åº”æ­£æ–‡é¡µåç›®å½•é‡Œçš„é”™è¯¯åç§°ä¼šè‡ªåŠ¨æ›´æ­£ï¼‰\n2023.10.23\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nåŠ è½½è¯¦æƒ…é¡µåä¼šè‡ªåŠ¨æ›´æ”¹é”™è¯¯çš„ä¹¦å\n2023.10.25\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nå‘ç°é¡µæ–°å¢ä¹¦æ¶\n2023.11.11\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè§£å†³äº†éƒ¨åˆ†ä¹¦ç±ç›®å½•æœ€åä¸€ç« è·å–é“¾æ¥é”™è¯¯çš„é—®é¢˜\n2023.11.14\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nä¿®å¤äº†å›¾ç‰‡åŠ è½½é”™è¯¯çš„é—®é¢˜\n2023.11.16\né…·å®‰ @å‰ç‹ä¹‰æ˜Š\nè§£å†³äº†éƒ¨åˆ†ä¹¦ç±è·å–ç›®å½•å¤±è´¥çš„é—®é¢˜",
        "bookSourceGroup": "è½»å°è¯´,éœ€è¦ç¿»å¢™",
        "bookSourceName": "å“”å“©è½»å°è¯´â€¢å°",
        "bookSourceType": 0,
        "bookSourceUrl": "https://tw.linovelib.com",
        "bookUrlPattern": "",
        "concurrentRate": "100",
        "coverDecodeJs": "",
        "customOrder": 0,
        "enabled": true,
        "enabledCookieJar": true,
        "enabledExplore": true,
        "exploreUrl": "@js:\nres = []\n//ä¹¦æ¶\nuser = java.t2s(java.ajax(\"https://tw.linovelib.com/user.php\"))\nif (user.match(/<title>ç™»å…¥ - å“”å“©è½»å°è¯´<\\/title>/gi)) {\n  //æœªç™»å½•\n  res.push(\n    {\n      title: `>> æˆ‘çš„ä¹¦æ¶ | æœªç™»å½• <<`,\n      url: '',\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    })\n} else {\n  //å·²ç™»å½•\n  res.push(\n    {\n      title: `>> æˆ‘çš„ä¹¦æ¶ | ${user.match(/<span class=\"user-name\">.+<\\/span>/gi)[0].replace(/<\\/?span.*?>/gi,'')} <<`,\n      url: '',\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    })\n  bookcase = java.t2s(java.ajax(\"https://tw.linovelib.com/bookcase.php\"))\n  bookcase.match(/<select[\\s\\S]+?<\\/select>/gi)[0].match(/<option.+<\\/option>/gi).forEach(option => {\n    res.push(\n      {\n        title: option.match(/>.+(?=<)/gi)[0].replace('>', ''),\n        url: \"https://tw.linovelib.com/bookcase.php?classid=\" + option.match(/value=\\\".+?(?=\\\")/gi)[0].replace(/(value=\\\")/gi, ''),\n        style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n      })\n  })\n}\n\ncontent = java.t2s(java.ajax(\"https://tw.linovelib.com/wenku/\"))\ncontent.match(/æ’åºæ–¹å¼[\\s\\S]+?<\\/div>/gi)[0].match(/<a.+<\\/a>/gi).forEach(a => {\n  let sortTitle = a.match(/>.+(?=<)/gi)[0].replace('>', '')\n  let sortAddress = a.match(/\\/.+?(?=_)/gi)[0].replace('/', '')\n  content.match(/ä½œå“åˆ†ç±»[\\s\\S]+?<\\/div>/gi)[0].match(/<a.+<\\/a>/gi).forEach((v, i) => {\n    if (i == 0) {\n      res.push(\n        {\n          title: `>> å…¨éƒ¨æ–‡åº“ | ${sortTitle} <<`,\n          url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '')\n            .replace(/\\/.+?(?=_)/gi, '/' + sortAddress).replace('1_0.html', '{{page}}_0.html'),\n          style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n        })\n    } else {\n      res.push(\n        {\n          title: v.match(/>.+(?=<)/gi)[0].replace('>', ''),\n          url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '')\n            .replace(/\\/.+?(?=_)/gi, '/' + sortAddress).replace('1_0.html', '{{page}}_0.html'),\n          style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n        })\n    }\n  })\n})\ncontent.match(/æ’åºæ–¹å¼[\\s\\S]+?é‡ç½®/gi)[0].match(/<li[\\s\\S]+?<\\/li>/gi).forEach(li => {\n  let sortTitle = li.match(/>.+(?=<\\/h3>)/gi)[0].replace('>', '')\n  res.push(\n    {\n      title: `>> ${sortTitle} <<`,\n      url: '',\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n    })\n  li.match(/<a.+<\\/a>/gi).forEach((v, i) => {\n    if (i != 0) {\n      res.push(\n        {\n          title: v.match(/>.+(?=<)/gi)[0].replace('>', ''),\n          url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '').replace('1_0.html', '{{page}}_0.html'),\n          style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n        })\n    }\n  })\n})\ntagContent = java.t2s(java.ajax(\"https://tw.linovelib.com/taglist/1.html\"))\nres.push(\n  {\n    title: '>> æ ‡ç­¾åˆ†ç±» <<',\n    url: '',\n    style: { layout_flexGrow: 1, layout_flexBasisPercent: 1 }\n  })\ntagContent.match(/æ ‡ç­¾åˆ†ç±»<\\/h3>[\\s\\S]+?é‡ç½®/gi)[0].match(/<a.+<\\/a>/gi).forEach((v, i) => {\n  res.push(\n    {\n      title: v.match(/>.+(?=<)/gi)[0].replace('>', ''),\n      url: v.match(/href=\\\".+?(?=\\\")/gi)[0].replace(/(href=\\\")/gi, '').replace('1.html', '{{page}}.html'),\n      style: { layout_flexGrow: 1, layout_flexBasisPercent: 0.25 }\n    })\n})\nJSON.stringify(res)",
        "header": "{\n\"Referer\":\"https://w.linovelib.com/\"\n}",
        "jsLib": "",
        "lastUpdateTime": 1700116196482,
        "loginUi": "[\n  {\n    \"name\": \"è´¦å·\",\n    \"type\": \"text\"\n  },\n  {\n    \"name\": \"å¯†ç \",\n    \"type\": \"password\"\n  }\n]",
        "loginUrl": "@js:\nfunction login() {\n  let une = source.getLoginInfoMap().get(\"è´¦å·\")\n  let pwd = source.getLoginInfoMap().get(\"å¯†ç \")\n  if (une && pwd) {\n    let body = String('username=' + une + '&password=' + pwd + '&usecookie=315360000&action=login&submit=')\n    let url = 'https://tw.linovelib.com/login.php'\n    let ck = java.post(url, body, { \"Content-Type\": \"application/x-www-form-urlencoded\" }).cookies()\n    let header = JSON.stringify({\n      \"Cookie\": String(ck).match(/\\{(.*?)\\}/)[1].replace(/,/g, ';')\n    })\n    source.putLoginHeader(header)\n  }\n}",
        "respondTime": 180000,
        "ruleBookInfo": {
            "author": "[property=\"og:novel:author\"]@content\n@js:\njava.t2s(result)",
            "canReName": "1",
            "coverUrl": "[property=\"og:image\"]@content",
            "intro": "id.bookSummary@tag.content@textNodes\n@js:\nresult=\"  \"+result;\njava.t2s(result)",
            "kind": "class.book-cell@tag.p.1@ownText&&class.tag-small red@text\n##.*è¬å­—|Â·.*\n@js:\nres=[]\nresult.forEach(item=>res.push(java.t2s(item)))\nres",
            "lastChapter": "class.gray ell@text##(\\d+-\\d+-\\d+\\s\\d+:\\d+)Â·(.*)##$2 â€¢ $1\n@js:\njava.t2s(result)",
            "name": "[property=\"og:novel:book_name\"]@content\n@js:\njava.t2s(result)",
            "tocUrl": "class.btn-normal red@href",
            "wordCount": "class.book-cell@tag.p.1@ownText##é€£è¼‰|å®Œçµ\n@js:\njava.t2s(result)"
        },
        "ruleContent": {
            "content": "id.acontent1@html\n@js:\njava.t2s(result.replace(/img1.readpai.com/gi,'img3.readpai.com'))",
            "imageDecode": "",
            "imageStyle": "FULL",
            "nextContentUrl": "##url_next:'([^']*)'##$1###\n@js:\n//121_2.htmlè¿™æ ·çš„æ˜¯ä¸‹ä¸€é¡µï¼Œçº¯æ•°å­—åˆ™æ˜¯ä¸‹ä¸€ç« \n//å¸¦æœ‰catalogæ˜¯è¯¦æƒ…é¡µ\nvar isNew=/(\\/(\\d+).html)|catalog/.test(result);\nvar out=isNew?'':result;\nout",
            "replaceRegex": "##((?<=[\\u4e00-\\u9fa5â€œâ€˜ã€Œï¼ˆï¼Œ])\\s+)?<!--\\s*\\ï¼ˆç»§ç»­ä¸‹ä¸€é¡µ\\ï¼‰\\s*-->\\s*|((?<=[\\u4e00-\\u9fa5â€œâ€˜ã€Œï¼ˆï¼Œ])\\s+)?\\ï¼ˆæœ¬ç« æœªå®Œ\\ï¼‰\\s*|",
            "title": "id.atitle@text\n@js:\njava.t2s(result)"
        },
        "ruleExplore": {
            "author": "class.book-author@ownText\n@js:\njava.t2s(result)",
            "bookList": "class.book-ol@tag.li",
            "bookUrl": "a@href",
            "coverUrl": "img@data-src",
            "intro": "class.book-desc@text&&class.ell@text\n@js:\njava.t2s(result)",
            "kind": "class.tag-small-group origin-right@tag.em.0@text&&\nclass.tag-small-group origin-right@tag.em.1@text&&\ntag.time@text\n@js:\nres=[]\nresult.forEach(item=>{\n    item.split(new RegExp(\"[ \\/]\",\"gi\")).forEach(i=>res.push(java.t2s(i)))\n})\nres",
            "name": "class.book-li@tag.img@alt\n@js:\njava.t2s(result)",
            "wordCount": "class.tag-small blue@text\n@js:\njava.t2s(result)"
        },
        "ruleReview": {},
        "ruleSearch": {
            "author": "",
            "bookList": "class.gsc-expansionArea@class.gsc-webResult gsc-result\n@js:\nres=[]\nresult.forEach(item=>{\n  java.setContent(item)\n  if (String(java.getString(\"class.gs-title.0@tag.a.0@href\")).match(/novel\\/\\d+\\.html/gi)) {\n    res.push(item)\n  }\n})\nres",
            "bookUrl": "tag.a.0@href",
            "checkKeyWord": "æˆ‘çš„é’æ˜¥æ‹çˆ±å–œå‰§",
            "coverUrl": "a@href@js:\nvar id = result.match(/\\/(\\d+)\\.html/)[1];\n'https://www.linovelib.com/files/article/image/'+parseInt(id/1000)+'/'+id+'/'+id+'s.jpg';",
            "intro": "class.gs-bidi-start-align gs-snippet@text\n@js:\njava.t2s(result)",
            "kind": "",
            "name": "class.gs-title.0@tag.a.0@text##ç·šä¸Šçœ‹\\|epub,txtä¸‹è¼‰_å—¶å“©è¼•å°èªª\n@js:\njava.t2s(result)"
        },
        "ruleToc": {
            "chapterList": "id.volumes @tag.li\n@js:\n    //ç°å®debug(å°è¯•ä¿®å¤æ­£æ–‡é“¾æ¥é—®é¢˜ï¼Œå’Œç›®å½•ä¸å…¨)\n    //ã€Šå¥½å‹è§’è‰²çš„æˆ‘æ€ä¹ˆå¯èƒ½å¤§å—æ¬¢è¿ã€‹ç¬¬ä¸‰å·12\n    //ã€Šæˆ‘çš„é’æ˜¥æ‹çˆ±å–œå‰§ã€‹\n    //2022-8-19\n    //åŸæ¥çš„ä»£ç åœ¨æºæ³¨é‡Šï¼ˆå·²ç§»é™¤ï¼‰\n    //2022-8-20ä¿®å¤https://w.linovelib.com/novel/2765.htmlç›®å½•åŠ è½½å¤±è´¥\n    //2023-9-30ä½¿ç”¨æ˜“äºç†è§£çš„å˜é‡å‘½å\n    //2023-10-7å¤„ç†cid(1)ä»¥åŠè¿ç»­å¤šä¸ªcid(0)\n    //2023-11-11è§£å†³äº†ä¸€ä¸ªåŸæ¥æ‰‹æ»‘å†™å‡ºçš„bug\n    //2023-11-16å¤„ç†è¿ç»­å¤šä¸ªå·å\n\nres = result\n\nfor (i = 0; i < res.length; i++) {\n    java.setContent(res[i])\n    if (java.getString(\"tag.a@href\").match(/javascript:cid\\(.+\\)/gi)) {\n        //java.log(java.getString(\"tag.a@href\"))\n        if (String(res[(i == res.length - 1?i:i+1)]).match(/javascript:cid\\(.+\\)/gi)) {\n            java.setContent(res[i - 1])\n            prevLink = java.getString(\"tag.a@href\")\n            if (prevLink == \"\") {\n                java.setContent(res[i - 2])\n                prevLink = java.getString(\"tag.a@href\")\n            }\n            content = java.ajax(\"https://w.linovelib.com\" + prevLink)\n            java.setContent(content)\n            foot = java.getElements(\"id.footlink\")\n            path = prevLink\n\n            //java.log(foot)\n            while (String(foot).match(\"ä¸‹ä¸€é¡µ\")) {\n            \t    //java.log(foot)\n                str = content.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n                path = String(str).match(/url_next\\:'.*?html/)[0].replace(\"url_next:'\", \"\")\n                content = java.ajax(\"https://w.linovelib.com\" + path)\n                java.setContent(content)\n                foot = java.getElements(\"id.footlink\")\n            }\n\n            next = java.ajax(\"https://w.linovelib.com\" + path)\n            str = next.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n            path = String(str).match(/url_next\\:'.*?html/)[0].replace(\"url_next:'\", \"\")\n            java.log('l:'+path)\n            res[i] = String(res[i]).replace(/javascript:cid\\(.+\\)/gi, path)\n        } else {\n            nextLink = \"\"\n            for (var j=1;nextLink==\"\";j++) {\n                java.setContent(res[i + j])\n                nextLink = java.getString(\"tag.a@href\")\n            }\n            next = java.ajax(\"https://w.linovelib.com\" + nextLink)\n            str = next.match(/<script type\\=\\\"text\\/javascript\\\">var ReadParams.*/)\n            path = String(str).match(/url_previous\\:'.*?html/)[0].replace(\"url_previous:'\", \"\")\n            java.log(path)\n\n            res[i] = String(res[i]).replace(/javascript:cid\\(.+\\)/gi, path)\n        }\n    }\n\n    //java.log(res[i])\n}\nres",
            "chapterName": "text\n@js:\njava.t2s(result)",
            "chapterUrl": "tag.a@href",
            "isVolume": "@js:\njava.getString(\"tag.a@href\")==\"\"",
            "updateTime": ""
        },
        "searchUrl": "https://cse.google.com.hk/cse?cx=649de34f5e63448cb#gsc.tab=0&gsc.q={{key}}&gsc.sort=&gsc.page={{page}},{webView:true}",
        "weight": 0
    }
]
